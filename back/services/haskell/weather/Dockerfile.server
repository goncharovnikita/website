FROM haskell:8.8.1

WORKDIR /app/weather

COPY ./weather.cabal /app/weather/weather.cabal

RUN cabal install --only-dependencies -j4

COPY . /app/weather

RUN cabal install weather-server

CMD ["weather-server"]
